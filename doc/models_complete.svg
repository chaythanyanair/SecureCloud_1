<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.36.0 (20140111.2315)
 -->
<!-- Title: models_diagram Pages: 1 -->
<svg width="789pt" height="628pt"
 viewBox="0.00 0.00 789.00 628.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 624)">
<title>models_diagram</title>
<polygon fill="none" stroke="none" points="-4,4 -4,-624 785,-624 785,4 -4,4"/>
<!-- _diagram_info -->
<g id="node1" class="node"><title>_diagram_info</title>
<text text-anchor="start" x="77" y="-530.6" font-family="Times,serif" font-size="13.00">Models diagram</text>
<text text-anchor="start" x="77" y="-516.6" font-family="Times,serif" font-size="13.00">Date: Apr 04 2016 &#45; 00:13</text>
<text text-anchor="start" x="77" y="-502.6" font-family="Times,serif" font-size="13.00">Migration version: 20160326065944</text>
<text text-anchor="start" x="77" y="-488.6" font-family="Times,serif" font-size="13.00">Generated by RailRoady 1.4.2</text>
<text text-anchor="start" x="77" y="-474.6" font-family="Times,serif" font-size="13.00">http://railroady.prestonlee.com</text>
</g>
<!-- TpaCsp -->
<g id="node2" class="node"><title>TpaCsp</title>
<path fill="none" stroke="black" d="M172.5,-8.5C172.5,-8.5 291.5,-8.5 291.5,-8.5 297.5,-8.5 303.5,-14.5 303.5,-20.5 303.5,-20.5 303.5,-117.5 303.5,-117.5 303.5,-123.5 297.5,-129.5 291.5,-129.5 291.5,-129.5 172.5,-129.5 172.5,-129.5 166.5,-129.5 160.5,-123.5 160.5,-117.5 160.5,-117.5 160.5,-20.5 160.5,-20.5 160.5,-14.5 166.5,-8.5 172.5,-8.5"/>
<text text-anchor="middle" x="232" y="-114.3" font-family="Times,serif" font-size="14.00">TpaCsp</text>
<polyline fill="none" stroke="black" points="160.5,-106.5 303.5,-106.5 "/>
<text text-anchor="start" x="168.5" y="-91.3" font-family="Times,serif" font-size="14.00">id :int(11)</text>
<text text-anchor="start" x="168.5" y="-76.3" font-family="Times,serif" font-size="14.00">status_code :int(11)</text>
<text text-anchor="start" x="168.5" y="-61.3" font-family="Times,serif" font-size="14.00">file_hash :varchar(255)</text>
<text text-anchor="start" x="168.5" y="-46.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="168.5" y="-31.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="168.5" y="-16.3" font-family="Times,serif" font-size="14.00">file_upload_id :int(11)</text>
</g>
<!-- RequestMessage -->
<g id="node3" class="node"><title>RequestMessage</title>
<path fill="none" stroke="black" d="M11.5,-1C11.5,-1 130.5,-1 130.5,-1 136.5,-1 142.5,-7 142.5,-13 142.5,-13 142.5,-125 142.5,-125 142.5,-131 136.5,-137 130.5,-137 130.5,-137 11.5,-137 11.5,-137 5.5,-137 -0.5,-131 -0.5,-125 -0.5,-125 -0.5,-13 -0.5,-13 -0.5,-7 5.5,-1 11.5,-1"/>
<text text-anchor="middle" x="71" y="-121.8" font-family="Times,serif" font-size="14.00">RequestMessage</text>
<polyline fill="none" stroke="black" points="-0.5,-114 142.5,-114 "/>
<text text-anchor="start" x="7.5" y="-98.8" font-family="Times,serif" font-size="14.00">id :int(11)</text>
<text text-anchor="start" x="7.5" y="-83.8" font-family="Times,serif" font-size="14.00">file_hash :varchar(255)</text>
<text text-anchor="start" x="7.5" y="-68.8" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="7.5" y="-53.8" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="7.5" y="-38.8" font-family="Times,serif" font-size="14.00">user_id :int(11)</text>
<text text-anchor="start" x="7.5" y="-23.8" font-family="Times,serif" font-size="14.00">file_upload_id :int(11)</text>
<text text-anchor="start" x="7.5" y="-8.8" font-family="Times,serif" font-size="14.00">status_code :int(11)</text>
</g>
<!-- Tpa -->
<g id="node4" class="node"><title>Tpa</title>
<path fill="none" stroke="black" d="M333.5,-16C333.5,-16 452.5,-16 452.5,-16 458.5,-16 464.5,-22 464.5,-28 464.5,-28 464.5,-110 464.5,-110 464.5,-116 458.5,-122 452.5,-122 452.5,-122 333.5,-122 333.5,-122 327.5,-122 321.5,-116 321.5,-110 321.5,-110 321.5,-28 321.5,-28 321.5,-22 327.5,-16 333.5,-16"/>
<text text-anchor="middle" x="393" y="-106.8" font-family="Times,serif" font-size="14.00">Tpa</text>
<polyline fill="none" stroke="black" points="321.5,-99 464.5,-99 "/>
<text text-anchor="start" x="329.5" y="-83.8" font-family="Times,serif" font-size="14.00">id :int(11)</text>
<text text-anchor="start" x="329.5" y="-68.8" font-family="Times,serif" font-size="14.00">file_hash :varchar(255)</text>
<text text-anchor="start" x="329.5" y="-53.8" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="329.5" y="-38.8" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="329.5" y="-23.8" font-family="Times,serif" font-size="14.00">file_upload_id :int(11)</text>
</g>
<!-- SharedUser -->
<g id="node5" class="node"><title>SharedUser</title>
<path fill="none" stroke="black" d="M653,-16C653,-16 769,-16 769,-16 775,-16 781,-22 781,-28 781,-28 781,-110 781,-110 781,-116 775,-122 769,-122 769,-122 653,-122 653,-122 647,-122 641,-116 641,-110 641,-110 641,-28 641,-28 641,-22 647,-16 653,-16"/>
<text text-anchor="middle" x="711" y="-106.8" font-family="Times,serif" font-size="14.00">SharedUser</text>
<polyline fill="none" stroke="black" points="641,-99 781,-99 "/>
<text text-anchor="start" x="649" y="-83.8" font-family="Times,serif" font-size="14.00">id :int(11)</text>
<text text-anchor="start" x="649" y="-68.8" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="649" y="-53.8" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="649" y="-38.8" font-family="Times,serif" font-size="14.00">user_id :int(11)</text>
<text text-anchor="start" x="649" y="-23.8" font-family="Times,serif" font-size="14.00">file_upload_id :int(11)</text>
</g>
<!-- FileUpload -->
<g id="node6" class="node"><title>FileUpload</title>
<path fill="none" stroke="black" d="M325,-174.5C325,-174.5 461,-174.5 461,-174.5 467,-174.5 473,-180.5 473,-186.5 473,-186.5 473,-343.5 473,-343.5 473,-349.5 467,-355.5 461,-355.5 461,-355.5 325,-355.5 325,-355.5 319,-355.5 313,-349.5 313,-343.5 313,-343.5 313,-186.5 313,-186.5 313,-180.5 319,-174.5 325,-174.5"/>
<text text-anchor="middle" x="393" y="-340.3" font-family="Times,serif" font-size="14.00">FileUpload</text>
<polyline fill="none" stroke="black" points="313,-332.5 473,-332.5 "/>
<text text-anchor="start" x="321" y="-317.3" font-family="Times,serif" font-size="14.00">id :int(11)</text>
<text text-anchor="start" x="321" y="-302.3" font-family="Times,serif" font-size="14.00">fname :varchar(255)</text>
<text text-anchor="start" x="321" y="-287.3" font-family="Times,serif" font-size="14.00">owner :varchar(255)</text>
<text text-anchor="start" x="321" y="-272.3" font-family="Times,serif" font-size="14.00">ftype :varchar(255)</text>
<text text-anchor="start" x="321" y="-257.3" font-family="Times,serif" font-size="14.00">attachment :varchar(255)</text>
<text text-anchor="start" x="321" y="-242.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="321" y="-227.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="321" y="-212.3" font-family="Times,serif" font-size="14.00">hash_val :varchar(255)</text>
<text text-anchor="start" x="321" y="-197.3" font-family="Times,serif" font-size="14.00">user_id :int(11)</text>
<text text-anchor="start" x="321" y="-182.3" font-family="Times,serif" font-size="14.00">shared_with :varchar(255)</text>
</g>
<!-- FileUpload&#45;&gt;TpaCsp -->
<g id="edge2" class="edge"><title>FileUpload&#45;&gt;TpaCsp</title>
<path fill="none" stroke="#7f631e" d="M313.3,-167.964C304.73,-157.637 296.148,-147.296 287.943,-137.409"/>
<ellipse fill="none" stroke="#7f631e" cx="316.072" cy="-171.304" rx="4.00002" ry="4.00002"/>
<polygon fill="#7f631e" stroke="#7f631e" points="287.836,-137.281 284.913,-126.712 284.643,-133.433 281.45,-129.586 281.45,-129.586 281.45,-129.586 284.643,-133.433 277.987,-132.46 287.836,-137.281 287.836,-137.281"/>
</g>
<!-- FileUpload&#45;&gt;RequestMessage -->
<g id="edge1" class="edge"><title>FileUpload&#45;&gt;RequestMessage</title>
<path fill="none" stroke="#84f4f9" d="M305.325,-224.261C260.44,-202.545 205.448,-173.789 151.163,-137.877"/>
<ellipse fill="none" stroke="#84f4f9" cx="309.195" cy="-226.124" rx="4.00002" ry="4.00002"/>
<polygon fill="#84f4f9" stroke="#84f4f9" points="151.122,-137.849 145.312,-128.549 146.966,-135.069 142.81,-132.289 142.81,-132.289 142.81,-132.289 146.966,-135.069 140.308,-136.03 151.122,-137.849 151.122,-137.849"/>
</g>
<!-- FileUpload&#45;&gt;Tpa -->
<g id="edge3" class="edge"><title>FileUpload&#45;&gt;Tpa</title>
<path fill="none" stroke="#edc74c" d="M393,-165.99C393,-154.535 393,-143.098 393,-132.319"/>
<ellipse fill="none" stroke="#edc74c" cx="393" cy="-170.382" rx="4" ry="4"/>
<polygon fill="#edc74c" stroke="#edc74c" points="393,-132.208 397.5,-122.208 393,-127.208 393,-122.208 393,-122.208 393,-122.208 393,-127.208 388.5,-122.208 393,-132.208 393,-132.208"/>
</g>
<!-- FileUpload&#45;&gt;SharedUser -->
<g id="edge5" class="edge"><title>FileUpload&#45;&gt;SharedUser</title>
<path fill="none" stroke="#b35360" d="M480.436,-223.831C526.91,-201.031 584.161,-170.584 632,-138 636.487,-134.944 641.007,-131.67 645.491,-128.272"/>
<ellipse fill="none" stroke="#b35360" cx="476.668" cy="-225.669" rx="4.00002" ry="4.00002"/>
<polygon fill="#b35360" stroke="#b35360" points="645.613,-128.177 656.27,-125.593 649.561,-125.109 653.509,-122.04 653.509,-122.04 653.509,-122.04 649.561,-125.109 650.747,-118.487 645.613,-128.177 645.613,-128.177"/>
</g>
<!-- Keyword -->
<g id="node7" class="node"><title>Keyword</title>
<path fill="none" stroke="black" d="M495,-16C495,-16 611,-16 611,-16 617,-16 623,-22 623,-28 623,-28 623,-110 623,-110 623,-116 617,-122 611,-122 611,-122 495,-122 495,-122 489,-122 483,-116 483,-110 483,-110 483,-28 483,-28 483,-22 489,-16 495,-16"/>
<text text-anchor="middle" x="553" y="-106.8" font-family="Times,serif" font-size="14.00">Keyword</text>
<polyline fill="none" stroke="black" points="483,-99 623,-99 "/>
<text text-anchor="start" x="491" y="-83.8" font-family="Times,serif" font-size="14.00">id :int(11)</text>
<text text-anchor="start" x="491" y="-68.8" font-family="Times,serif" font-size="14.00">key :varchar(255)</text>
<text text-anchor="start" x="491" y="-53.8" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="491" y="-38.8" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="491" y="-23.8" font-family="Times,serif" font-size="14.00">file_upload_id :int(11)</text>
</g>
<!-- FileUpload&#45;&gt;Keyword -->
<g id="edge4" class="edge"><title>FileUpload&#45;&gt;Keyword</title>
<path fill="none" stroke="#10096e" d="M472.101,-168.09C482.802,-155.116 493.523,-142.115 503.501,-130.018"/>
<ellipse fill="none" stroke="#10096e" cx="469.457" cy="-171.296" rx="4.00002" ry="4.00002"/>
<polygon fill="#10096e" stroke="#10096e" points="503.579,-129.922 513.414,-125.071 506.761,-126.065 509.942,-122.208 509.942,-122.208 509.942,-122.208 506.761,-126.065 506.47,-119.345 503.579,-129.922 503.579,-129.922"/>
</g>
<!-- User -->
<g id="node8" class="node"><title>User</title>
<path fill="none" stroke="black" d="M313,-393C313,-393 473,-393 473,-393 479,-393 485,-399 485,-405 485,-405 485,-607 485,-607 485,-613 479,-619 473,-619 473,-619 313,-619 313,-619 307,-619 301,-613 301,-607 301,-607 301,-405 301,-405 301,-399 307,-393 313,-393"/>
<text text-anchor="middle" x="393" y="-603.8" font-family="Times,serif" font-size="14.00">User</text>
<polyline fill="none" stroke="black" points="301,-596 485,-596 "/>
<text text-anchor="start" x="309" y="-580.8" font-family="Times,serif" font-size="14.00">id :int(11)</text>
<text text-anchor="start" x="309" y="-565.8" font-family="Times,serif" font-size="14.00">first_name :varchar(255)</text>
<text text-anchor="start" x="309" y="-550.8" font-family="Times,serif" font-size="14.00">last_name :varchar(255)</text>
<text text-anchor="start" x="309" y="-535.8" font-family="Times,serif" font-size="14.00">email :varchar(255)</text>
<text text-anchor="start" x="309" y="-520.8" font-family="Times,serif" font-size="14.00">password_digest :varchar(255)</text>
<text text-anchor="start" x="309" y="-505.8" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="309" y="-490.8" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="309" y="-475.8" font-family="Times,serif" font-size="14.00">date_of_birth :date</text>
<text text-anchor="start" x="309" y="-460.8" font-family="Times,serif" font-size="14.00">gender :varchar(255)</text>
<text text-anchor="start" x="309" y="-445.8" font-family="Times,serif" font-size="14.00">reset_digest :varchar(255)</text>
<text text-anchor="start" x="309" y="-430.8" font-family="Times,serif" font-size="14.00">reset_sent_at :datetime</text>
<text text-anchor="start" x="309" y="-415.8" font-family="Times,serif" font-size="14.00">tpa :tinyint(1)</text>
<text text-anchor="start" x="309" y="-400.8" font-family="Times,serif" font-size="14.00">online :tinyint(1)</text>
</g>
<!-- User&#45;&gt;RequestMessage -->
<g id="edge7" class="edge"><title>User&#45;&gt;RequestMessage</title>
<path fill="none" stroke="#510853" d="M305.121,-386.281C248.303,-309.524 176.058,-211.926 126.952,-145.588"/>
<ellipse fill="none" stroke="#510853" cx="307.697" cy="-389.762" rx="4.00002" ry="4.00002"/>
<polygon fill="#510853" stroke="#510853" points="126.731,-145.289 124.398,-134.574 123.756,-141.27 120.782,-137.251 120.782,-137.251 120.782,-137.251 123.756,-141.27 117.165,-139.929 126.731,-145.289 126.731,-145.289"/>
</g>
<!-- User&#45;&gt;SharedUser -->
<g id="edge8" class="edge"><title>User&#45;&gt;SharedUser</title>
<path fill="none" stroke="#bdb5dc" d="M479.791,-386.276C540.389,-303.383 618.753,-196.187 666.917,-130.303"/>
<ellipse fill="none" stroke="#bdb5dc" cx="477.254" cy="-389.748" rx="4.00002" ry="4.00002"/>
<polygon fill="#bdb5dc" stroke="#bdb5dc" points="667.025,-130.154 676.56,-124.737 669.976,-126.118 672.927,-122.081 672.927,-122.081 672.927,-122.081 669.976,-126.118 669.294,-119.426 667.025,-130.154 667.025,-130.154"/>
</g>
<!-- User&#45;&gt;FileUpload -->
<g id="edge6" class="edge"><title>User&#45;&gt;FileUpload</title>
<path fill="none" stroke="#92e71b" d="M393,-384.64C393,-378.378 393,-372.119 393,-365.931"/>
<ellipse fill="none" stroke="#92e71b" cx="393" cy="-388.848" rx="4" ry="4"/>
<polygon fill="#92e71b" stroke="#92e71b" points="393,-365.598 397.5,-355.598 393,-360.598 393,-355.598 393,-355.598 393,-355.598 393,-360.598 388.5,-355.598 393,-365.598 393,-365.598"/>
</g>
</g>
</svg>
